# Contributing Guide

æ¬¢è¿å‚ä¸ L4 Camera æ„ŸçŸ¥é¡¹ç›®å¼€å‘ ğŸš—

æœ¬ä»“åº“ä¸»è¦èšç„¦ï¼š
- äº¤é€šç¯è¯†åˆ«ï¼ˆTraffic Lightï¼‰
- äº¤é€šæ ‡å¿—è¯†åˆ«ï¼ˆTraffic Signï¼‰
- ä¸ LiDAR èåˆçš„è¯­ä¹‰èµ‹èƒ½
- è¾“å‡ºç¨³å®šã€å¯å¤ç°ã€å¯æœåŠ¡äºè§„åˆ’

---

# 1. åˆ†æ”¯ç®¡ç†ç­–ç•¥

æœ¬é¡¹ç›®é‡‡ç”¨ï¼š

**Main + Feature + Release æ¨¡å¼ï¼ˆTrunk-Based Developmentï¼‰**

## 1.1 æ°¸ä¹…åˆ†æ”¯

### `main`
- æ°¸è¿œä¿æŒâ€œå¯è¿è¡Œã€å¯å›æ”¾ã€å¯å‘å¸ƒâ€
- ç¦æ­¢ç›´æ¥ push
- ä»…é€šè¿‡ Pull Request åˆå…¥
- CI å¿…é¡»é€šè¿‡

### `release/vX.Y`
- é‡Œç¨‹ç¢‘ç‰ˆæœ¬
- ä»…å…è®¸ bugfix å’Œå¿…è¦å‚æ•°æ›´æ–°
- ç”¨äºå®éªŒå¤ç° / äº¤ä»˜ / æ¼”ç¤º

---

## 1.2 åŠŸèƒ½åˆ†æ”¯ï¼ˆçŸ­ç”Ÿå‘½å‘¨æœŸï¼‰

å‘½åè§„èŒƒï¼š

feat/tl-*
feat/ts-*
feat/core-*
fix/*
exp/*

è¯´æ˜ï¼š

| åˆ†æ”¯ç±»å‹ | ç”¨é€” |
|----------|------|
| feat/tl-* | äº¤é€šç¯ç›¸å…³åŠŸèƒ½ |
| feat/ts-* | äº¤é€šæ ‡å¿—ç›¸å…³åŠŸèƒ½ |
| feat/core-* | æ¡†æ¶ã€å…¬å…±ç»“æ„ä¿®æ”¹ |
| fix/* | Bug ä¿®å¤ |
| exp/* | å®éªŒæ€§å¼€å‘ï¼ˆä¸å¯ç›´æ¥åˆå…¥ mainï¼‰ |

---

# 2. å¼€å‘æµç¨‹

## 2.1 åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
git checkout main
git pull
git checkout -b feat/tl-detector
```
## 2.2 å¼€å‘å®Œæˆå
	â€¢	æœ¬åœ°è¿è¡Œï¼š
	â€¢	run_replay.sh
	â€¢	ç¡®è®¤ pipeline å¯è·‘é€š
	â€¢	ç”Ÿæˆï¼š
	â€¢	overlay
	â€¢	metrics

ç„¶åå‘èµ· Pull Requestã€‚

â¸»

# 3. Pull Request è§„èŒƒ

æ¯ä¸ª PR å¿…é¡»æ»¡è¶³ï¼š
	â€¢	âœ… ä»£ç èƒ½è¿è¡Œ
	â€¢	âœ… ä¸ç ´åç°æœ‰æ•°æ®ç»“æ„
	â€¢	âœ… æä¾›åŸºç¡€æŒ‡æ ‡è¾“å‡º
	â€¢	âœ… å¯è§†åŒ– overlay æ­£å¸¸
	â€¢	âœ… è¯´æ˜æœ¬æ¬¡ä¿®æ”¹å½±å“èŒƒå›´

â¸»

## 3.1 PR æ ‡é¢˜è§„èŒƒ

[TL] add traffic light stabilizer
[TS] improve small object detection
[CORE] refactor projector ROI
[FIX] fix timestamp alignment bug

## 3.2 å®Œæ•´PRæµç¨‹
**step 0ï¼š ä¿è¯ä¸»çº¿æœ€æ–°**
```
git checkout main
git pull
```
**step 1: åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
âš ï¸ä¸è¦å†mainä¸Šå¼€å‘ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰€åœ¨åˆ†æ”¯
```git branch --show-current```
è¿›å…¥åŠŸèƒ½åˆ†æ”¯
```git checkout -b feat/(å¯¹åº”åŠŸèƒ½)```
å‘½åè§„èŒƒç¤ºä¾‹ï¼š
```
feat/tl-detector
feat/ts-small-object
feat/core-roi-refactor
fix/sync-timestamp
```
**step 2ï¼šæœ¬åœ°å¼€å‘**
ä¿®æ”¹ä»£ç åï¼š
```
git add .
git commit -m "feat(tl): add red light detection
```
âš ï¸è¯·åŠ¡å¿…æŒ‰ç…§è§„èŒƒcommitï¼Œä¾¿äºé¡¹ç›®ç»´æŠ¤ï¼Œå¯ä»¥codingè¿‡ç¨‹ä¸­è¿›è¡Œå¤šæ¬¡commit
commitæ ‡å‡†æ ¼å¼ï¼š
<type>(<scope>): <short description>
## 1ï¸âƒ£ type ç±»å‹

| ç±»å‹     | ç”¨é€”       |
|----------|------------|
| feat     | æ–°åŠŸèƒ½     |
| fix      | ä¿®å¤ bug   |
| refactor | é‡æ„       |
| docs     | æ–‡æ¡£       |
| test     | æµ‹è¯•       |
| perf     | æ€§èƒ½ä¼˜åŒ–   |
| chore    | æ‚é¡¹ä¿®æ”¹   |
## 2ï¸âƒ£ scope èŒƒå›´

| scope ç¤ºä¾‹ | è¯´æ˜ |
|------------|------|
| tl         | äº¤é€šç¯ç›¸å…³ |
| ts         | äº¤é€šæ ‡å¿—ç›¸å…³ |
| core       | æ ¸å¿ƒæ¨¡å— |
| sync       | åŒæ­¥æ¨¡å— |
| projector  | æŠ•å½±æ¨¡å— |
| stabilizer | ç¨³å®šå™¨æ¨¡å— |
| publisher  | å‘å¸ƒæ¨¡å— |
| visualizer | å¯è§†åŒ–æ¨¡å— |

**step 3ï¼š æ¨é€åˆ°è¿œç¨‹**
```
git push origin feat/tl-detector
```
**step 4: åœ¨GitHubä¸Šå‘èµ·Pull Request**
åœ¨ GitHub é¡µé¢ï¼š
	â€¢	base åˆ†æ”¯ï¼šmain
	â€¢	compare åˆ†æ”¯ï¼šfeat/tl-detector
	â€¢	å¡«å†™ PR æè¿°ï¼ˆåšäº†ä»€ä¹ˆã€å½±å“èŒƒå›´ã€æµ‹è¯•æƒ…å†µï¼‰
	
**step 5: Code Review**
è‡³å°‘1äººreviewï¼š
	â€¢	æ˜¯å¦æ”¹äº†ä¸è¯¥æ”¹çš„æ¨¡å—ï¼Ÿ
	â€¢	æ˜¯å¦ç ´åæ•°æ®ç»“æ„ï¼Ÿ
	â€¢	æ˜¯å¦èƒ½è·‘é€š replayï¼Ÿ
	â€¢	æ˜¯å¦é™„å¸¦æŒ‡æ ‡æˆ–æˆªå›¾ï¼Ÿ
	
**step 6ï¼šåˆå¹¶PR**
	â€¢	âœ… Squash and merge
	
**step 7ï¼š åˆ é™¤åˆ†æ”¯**
```
git branch -d feat/tl-detector # åˆ é™¤æœ¬åœ°
git push origin --delete feat/tl-detector  # åˆ é™¤è¿œç¨‹
```
â¸»

# 4. ä»£ç ç»“æ„è§„èŒƒ

## 4.1 ä¸å…è®¸è·¨æ¨¡å—ä¹±æ”¹
	â€¢	äº¤é€šç¯ç›¸å…³ä»£ç  â†’ infer/detectors/traffic_light.py
	â€¢	äº¤é€šæ ‡å¿—ç›¸å…³ä»£ç  â†’ infer/detectors/traffic_sign.py
	â€¢	ç¨³å®šé€»è¾‘ â†’ stabilizer/
	â€¢	æ•°æ®ç»“æ„ â†’ common/
	â€¢	å‘å¸ƒé€»è¾‘ â†’ publisher/

å¦‚éœ€ä¿®æ”¹å…¬å…±æ¥å£ï¼Œå¿…é¡»ï¼š
	â€¢	æ–°å»º feat/core-* åˆ†æ”¯
	â€¢	åœ¨ PR æè¿°ä¸­è¯´æ˜å˜æ›´ç†ç”±

â¸»

# 5. æ•°æ®ç»“æ„çº¦æŸ

ä»¥ä¸‹ç»“æ„ä¸ºæ ‡å‡†è¾“å‡ºåè®®ï¼Œä¸å¯éšæ„æ›´æ”¹å­—æ®µï¼š
	â€¢	FrameBundle
	â€¢	RawDetections
	â€¢	StableTrafficLight
	â€¢	StableTrafficSign

å¦‚éœ€ä¿®æ”¹ï¼š
	â€¢	å¿…é¡»ä¿è¯å‘åå…¼å®¹
	â€¢	æˆ–åŒæ—¶æ›´æ–° publisher ä¸ visualizer

â¸»

# 6. æ¨¡å‹ä¸é…ç½®ç®¡ç†
	â€¢	æ‰€æœ‰æ¨¡å‹è·¯å¾„å†™å…¥ configs/models/models.yaml
	â€¢	ä¸å…è®¸ç¡¬ç¼–ç æ¨¡å‹è·¯å¾„
	â€¢	ä¸å…è®¸åœ¨ä»£ç ä¸­å†™æ­»é˜ˆå€¼

é˜ˆå€¼ç»Ÿä¸€å†™å…¥ï¼š

configs/pipeline.yaml


â¸»

# 7. æŒ‡æ ‡ä¸éªŒæ”¶æ ‡å‡†

æ¯ä¸ªä»»åŠ¡å¿…é¡»æä¾›è‡³å°‘ä¸€ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼š

äº¤é€šç¯
	â€¢	çŠ¶æ€å‡†ç¡®ç‡
	â€¢	ç¨³å®šå»¶è¿Ÿï¼ˆå¸§æ•°ï¼‰
	â€¢	è¯¯æ£€ç‡

äº¤é€šæ ‡å¿—
	â€¢	åˆ†ç±»å‡†ç¡®ç‡
	â€¢	å°ç›®æ ‡å¬å›ç‡
	â€¢	é™é€Ÿè§£æå‡†ç¡®ç‡

â¸»

# 8. å¯è§†åŒ–è¦æ±‚

PR å¿…é¡»é™„å¸¦ï¼š
	â€¢	overlay æˆªå›¾
	â€¢	æˆ– replay è§†é¢‘ç‰‡æ®µ
	â€¢	æˆ– metrics æ–‡ä»¶

â¸»

# 9. ç¦æ­¢è¡Œä¸º

âŒ ä¸å…è®¸ç›´æ¥å‘ main push
âŒ ä¸å…è®¸ç ´åè¾“å‡ºåè®®
âŒ ä¸å…è®¸æäº¤å¤§ä½“é‡æ¨¡å‹æƒé‡
âŒ ä¸å…è®¸åˆ é™¤æ—¥å¿—ç›®å½•ç»“æ„

â¸»

# 10. æ¨èå¼€å‘èŠ‚å¥
	â€¢	Feature åˆ†æ”¯å»ºè®® 1~3 å¤©å†…å®Œæˆ
	â€¢	å°æ­¥æäº¤ï¼Œé¿å…å¤§ PR
	â€¢	æ¯ 2~4 å‘¨å‘å¸ƒä¸€ä¸ª release ç‰ˆæœ¬

â¸»

# 11. Commit Message è§„èŒƒ

å»ºè®®æ ¼å¼ï¼š

type(scope): short description

feat(tl): add state hysteresis filter
fix(sync): correct timestamp offset
refactor(core): simplify FrameBundle structure

ç±»å‹ï¼š
	â€¢	feat
	â€¢	fix
	â€¢	refactor
	â€¢	docs
	â€¢	test

â¸»

# 12. åˆå¹¶è§„åˆ™
	â€¢	è‡³å°‘ 1 å reviewer é€šè¿‡
	â€¢	CI é€šè¿‡
	â€¢	æ— å†²çª
	â€¢	PR æè¿°æ¸…æ™°

â¸»

# 13. ç‰ˆæœ¬å‘å¸ƒæµç¨‹
	1.	ä» main åˆ‡åˆ†æ”¯ï¼š

git checkout -b release/v0.1


	2.	æ›´æ–°ç‰ˆæœ¬å·
	3.	å›ºå®šæ¨¡å‹ç‰ˆæœ¬
	4.	æ‰“ tagï¼š

git tag v0.1
git push origin v0.1



â¸»

# 14. ç›®æ ‡

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š

ä¸»çº¿æ°¸è¿œç¨³å®š
ä»»åŠ¡å¿«é€Ÿè¿­ä»£
è¾“å‡ºå¯å¤ç°
å¯ç›´æ¥æœåŠ¡äºè§„åˆ’

â¸»

æ„Ÿè°¢æ¯ä¸€ä½è´¡çŒ®è€… ğŸ™Œ

---
